<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Roblox Avatar Viewer</title>
</head>
<body style="font-family:sans-serif;text-align:center;">
  <h1>Roblox Avatar Viewer</h1>
  <input id="username" placeholder="Enter Roblox username" />
  <button onclick="getAvatar()">Get Avatar</button>
  <div id="result" style="margin-top:20px;"></div>

  <script>
    async function getUserId(username) {
      const res = await fetch(`https://users.roblox.com/v1/usernames/users`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ usernames: [username] })
      });
      const data = await res.json();
      return data.data[0]?.id || null;
    }

    async function getAvatar() {
      const username = document.getElementById("username").value;
      const userId = await getUserId(username);
      if (!userId) {
        document.getElementById("result").innerHTML = "User not found!";
        return;
      }

      const res = await fetch(`https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=${userId}&size=420x420&format=Png&isCircular=false`);
      const data = await res.json();
      const imgUrl = data.data[0].imageUrl;

      document.getElementById("result").innerHTML = `
        <h3>${username}'s Avatar</h3>
        <img src="${imgUrl}" alt="Avatar">
      `;
    }
  </script>
</body>
</html>
